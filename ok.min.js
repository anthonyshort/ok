/*! ok.js - v0.1.2 - 2012-10-10
* https://github.com/anthonyshort/ok.js
* Copyright (c) 2012 Anthony Short; Licensed MIT */
(function(){var e,t={}.hasOwnProperty;e=function(){function e(e){this.schema=e}return e.validate=function(e,t){var n;return n=new this(t),n.validate(e)},e.prototype.validate=function(n){var r,i,s,o,u,a,f,l,c;i=new e.Errors,c=this.schema;for(r in c){if(!t.call(c,r))continue;o=c[r],l=n[r];if(l!=null)for(u in o)s=o[u],typeof s=="function"?(a=s.call(this,l,n),a||i.add(r,u)):(f=new e.Validator,a=f.check(u,l,s,n),a||i.add(r,u));else o.required===!0&&i.add(r,"required")}return typeof Object.freeze=="function"&&Object.freeze(i),i},e}(),typeof exports!="undefined"&&exports!==null?exports.OK=e:this.OK=e}).call(this),function(){var e=[].slice,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};OK.Validator=function(){function n(){}return n.prototype.patterns={email:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,alphanumeric:/^\w+$/,hex:/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},n.check=function(){var e;return e=new this,e.check.apply(e,arguments)},n.prototype.check=function(){var t,n,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],n=this[r];if(!n)throw new Error("Invalid validation type "+r);return n.apply(this,t)},n.prototype.email=function(e,t){return t==null&&(t=!0),(_.isString(e)&&this.patterns.email.test(e))===t},n.prototype.url=function(e,t){return t==null&&(t=!0),(e!=null&&this.patterns.url.test(e))===t},n.prototype.alphanumeric=function(e,t){return t==null&&(t=!0),(e!=null&&_.isString(e)&&this.patterns.alphanumeric.test(e))===t},n.prototype.hex=function(e,t){return t==null&&(t=!0),(e!=null&&this.patterns.hex.test(e))===t},n.prototype.string=function(e,t){return t==null&&(t=!0),(e!=null&&_.isString(e))===t},n.prototype.number=function(e,t){return t==null&&(t=!0),(e!=null&&!isNaN(parseFloat(e)))===t},n.prototype.array=function(e,t){return t==null&&(t=!0),(e!=null&&_.isArray(e))===t},n.prototype.date=function(e,t){return t==null&&(t=!0),(e!=null&&(_.isDate(e)||!isNaN(Date.parse(e))))===t},n.prototype.boolean=function(e,t){return t==null&&(t=!0),(e!=null&&_.isBoolean(e))===t},n.prototype.max=function(e,t){return e!=null&&e<=t},n.prototype.min=function(e,t){return e!=null&&e>=t},n.prototype.length=function(e,t){return e!=null&&e.length!=null&&e.length===t},n.prototype.minlength=function(e,t){return e!=null&&e.length!=null&&e.length>=t},n.prototype.maxlength=function(e,t){return e!=null&&e.length&&e.length<=t},n.prototype.equal=function(e,t){return _.isEqual(e,t)},n.prototype.range=function(e,t){return e!=null&&t.from<=e&&e<=t.to},n.prototype["in"]=function(e,n){return t.call(n,e)>=0},n.prototype.pattern=function(e,t){return _.isRegExp(t)&&e!=null&&t.test(e)},n.prototype.required=function(e,t){return t==null&&(t=!0),e!=null===t},n}()}.call(this),function(){OK.Errors=function(){function e(){this.errors={},this.length=0}return e.prototype.add=function(e,t){var n;return(n=this.errors)[e]||(n[e]=[]),_.contains(this.errors[e],t)||(this.length+=1,this.errors[e].push(t)),this.errors},e.prototype.isValid=function(e){return this.errors[e]==null},e.prototype.get=function(e){return this.errors[e]||!1},e.prototype.invalid=function(e){return this.errors[e]?this.errors[e]:!1},e.prototype.each=function(e,t){return _.isFunction(e)?_.each(this.errors,e,this):_.each(this.errors[e],t,this)},e.prototype.toJSON=function(){return this.errors},e}()}.call(this);