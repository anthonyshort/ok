/*! ok.js - v0.1.0 - 2012-10-01
* https://github.com/anthonyshort/ok.js
* Copyright (c) 2012 Anthony Short; Licensed MIT */
(function(){var e,t={}.hasOwnProperty;e=function(){function e(e){this.schema=e}return e.validate=function(e,t){var n;return n=new this(t),n.validate(e)},e.prototype.validate=function(n){var r,i,s,o,u,a,f,l,c,h,p,d,v;i=new e.Errors(n);for(r in n){if(!t.call(n,r))continue;h=n[r];if(!this.schema[r])continue;u=this.schema[r],v=u.rules;for(a=p=0,d=v.length;p<d;a=++p){f=v[a];if(typeof a=="function")s=a.call(this,h,n),(s!==!0||s===null||s===void 0)&&i.add(r,f,s);else{c=new e.Validator,o=c[f];if(!o)throw new Error("Invalid validation type "+f+" for "+r);l=o.call(this,h,a,n),l||i.add(r,f,u.messages[f])}}}return i},e}(),typeof module!="undefined"&&module.exports?module.exports=_:this.OK=e}).call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};OK.Validator=function(){function t(){}return t.prototype.patterns={email:/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/,url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,alphanumeric:/^\w+$/,hex:/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},t.prototype.email=function(e){return this.patterns.email.test(e)},t.prototype.url=function(e){return this.patterns.url.test(e)},t.prototype.alphanumeric=function(e){return e!==!1&&this.patterns.alphanumeric.test(e)},t.prototype.hex=function(e){return e==null||this.patterns.hex.test(e)},t.prototype.string=function(e){return e==null||_.isString(e)},t.prototype.number=function(e){return e==null||!isNaN(parseFloat(e))},t.prototype.array=function(e){return e==null||_.isArray(e)},t.prototype.date=function(e){return e==null||_.isDate(e)||!isNaN(Date.parse(e))},t.prototype.boolean=function(e){return e==null||_.isBoolean(e)},t.prototype.max=function(e,t){return e<=t},t.prototype.min=function(e,t){return e>=t},t.prototype.length=function(e,t){return e.length===t},t.prototype.minLength=function(e,t){return e.length>=t},t.prototype.maxLength=function(e,t){return e.length<=t},t.prototype.equal=function(e,t){return e===t},t.prototype.range=function(e,t){return t.from<=e&&e<=t.to},t.prototype["in"]=function(t,n){return e.call(n,t)>=0},t.prototype.pattern=function(e,t){return t.test(e)},t.prototype.accepted=function(e){return e===!0},t.prototype.required=function(e){return e!=null},t}()}.call(this),function(){OK.Errors=function(){function e(e){this.data=e,this.errors={},this.length=0}return e.prototype.add=function(e,t,n){var r;return(r=this.errors)[e]||(r[e]={}),this.errors[e][t]=n||"Invalid: '"+e+"' for '"+t+"' with the value '"+this.data[e]+"'",this.length+=1,this.errors},e.prototype.isValid=function(){return this.length===0},e.prototype.get=function(e,t){return t&&this.errors[e]?this.errors[e][t]:this.errors[e]||!1},e.prototype.each=function(e,t){return t==null&&(t=this),_.each(this.errors,e,t)},e.prototype.toJSON=function(){return this.errors},e}()}.call(this);